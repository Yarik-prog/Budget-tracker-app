(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{174:function(e,t,n){},175:function(e,t,n){},176:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n.n(c),a=n(34),r=n.n(a),i=(n(90),n(13)),l=n(8),o=n(22),j=n(6),d=n(17),u=n.n(d),b=n(46),h=(n(38),n(2)),O={display:"flex",justifyContent:"center",paddingTop:100,width:"100%"},m=function(){var e=Object(b.a)(),t=e.register,n=e.handleSubmit,s=e.formState.errors,a=Object(c.useState)(),r=Object(j.a)(a,2),d=r[0],m=r[1];return Object(h.jsx)("div",{style:O,children:Object(h.jsxs)("div",{style:{width:400},children:[Object(h.jsx)("h1",{style:{textAlign:"center"},children:"Please sign in"}),Object(h.jsxs)("form",{onSubmit:n((function(e){u.a.post("/user/signIn",e).then((function(e){alert("Auth seccess!"),localStorage.setItem("usertoken",e.data),localStorage.setItem("isAuth",!0),m(!0)})).catch((function(e){alert("Smth went wrong: ".concat(e.response.data.mes))}))})),children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"username",children:"Username"}),Object(h.jsx)("input",Object(o.a)({className:"field",type:"text",name:"username"},t("username",{required:!0}))),s.username&&Object(h.jsx)("span",{style:{color:"red"},children:"This field is required"})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"email",children:"Email"}),Object(h.jsx)("input",Object(o.a)({className:"field",name:"email"},t("email",{required:!0}))),s.email&&Object(h.jsx)("span",{style:{color:"red"},children:"This field is required"})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"password",children:"Password"}),Object(h.jsx)("input",Object(o.a)({className:"field",type:"password",name:"password"},t("password",{required:{value:!0,message:"This field is required"},minLength:{value:4,message:"min length 4 symbols"}}))),s.password&&Object(h.jsx)("span",{style:{color:"red"},children:s.password.message})]}),Object(h.jsx)("button",{className:"Button",children:" Sign In "})]}),Object(h.jsxs)("span",{children:["if you don't have account: ",Object(h.jsx)(i.b,{to:"/reg",children:"Registration"})," "]}),(localStorage.getItem("isAuth")||d)&&Object(h.jsx)(l.a,{to:"/user/budget"})]})})},x={display:"flex",justifyContent:"center",paddingTop:100,width:"100%"},f=function(){var e=Object(b.a)(),t=e.register,n=e.handleSubmit,s=e.watch,a=e.formState.errors,r=Object(c.useState)(!1),d=Object(j.a)(r,2),O=d[0],m=d[1];return Object(h.jsx)("div",{style:x,children:Object(h.jsxs)("div",{style:{width:400},children:[Object(h.jsx)("h1",{style:{textAlign:"center"},children:"Registration"}),Object(h.jsxs)("form",{onSubmit:n((function(e){u.a.post("/user/reg",e).then((function(e){alert("Success: User has been created!"),m(!0)})).catch((function(e){alert("Smth went wrong: ".concat(e.response.data.mes))}))})),children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"username",children:"Username"}),Object(h.jsx)("input",Object(o.a)({className:"field",type:"text",name:"username"},t("username",{required:!0}))),a.username&&Object(h.jsx)("span",{style:{color:"red"},children:"This field is required"})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"email",children:"Email"}),Object(h.jsx)("input",Object(o.a)({className:"field",name:"email"},t("email",{required:!0}))),a.email&&Object(h.jsx)("span",{style:{color:"red"},children:"This field is required"})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"password",children:"Password"}),Object(h.jsx)("input",Object(o.a)({className:"field",type:"password",name:"password"},t("password",{required:{value:!0,message:"This field is required"},minLength:{value:4,message:"min length 4 symbols"}}))),a.password&&Object(h.jsx)("span",{style:{color:"red"},children:a.password.message})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"confirm_password",children:"Confirm password"}),Object(h.jsx)("input",Object(o.a)({className:"field",type:"password",name:"password"},t("confirm_password",{validate:function(e){return s("password")===e}}))),a.confirm_password&&Object(h.jsx)("span",{style:{color:"red"},children:"passwords don't match"})]}),Object(h.jsx)("input",{className:"Button",type:"submit",value:"Sign Up"})]}),Object(h.jsxs)("span",{children:["if you already have account: ",Object(h.jsx)(i.b,{to:"/",children:"Sign In"})," "]}),localStorage.getItem("isAuth")&&Object(h.jsx)(l.a,{to:"/user/budget"}),O&&Object(h.jsx)(l.a,{to:"/"})]})})},g=n(40),p=n.n(g),y=(n(72),function(e){var t=Object(c.useState)(e.entry.obj.spent),n=Object(j.a)(t,2),s=n[0],a=n[1],r=Object(c.useState)(e.entry.obj.category),l=Object(j.a)(r,2),o=l[0],d=l[1],b=Object(c.useState)(new Date(e.entry.obj.date)),O=Object(j.a)(b,2),m=O[0],x=O[1];return Object(h.jsx)("div",{children:Object(h.jsxs)("form",{onSubmit:function(t){t.preventDefault(),console.log("Edit");var n={headers:{"auth-token":localStorage.usertoken}},c=e.entry.obj._id,a="".concat(m.getFullYear(),"-").concat(("0"+(m.getMonth()+1)).slice(-2),"-").concat(m.getDate());u.a.post("/user/finance/edit",{spent:s,category:o,dateStr:a,_id:c},n).then((function(e){alert("Success: ".concat(e.data))})).catch((function(){alert("Smth went wrong")}))},children:[Object(h.jsx)("span",{children:Object(h.jsx)(i.b,{to:"/user/budget",children:"Back"})}),Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)("div",{className:"form-group",children:Object(h.jsx)(p.a,{selected:m,onChange:function(e){return x(e)},dateFormat:"yyyy-MM-dd",inline:!0})}),Object(h.jsxs)("div",{class:"form-group",children:[Object(h.jsx)("label",{htmlFor:"spent",children:"Spent amount $$$"}),Object(h.jsx)("input",{className:"field",type:"number",name:"spent",defaultValue:s,onChange:function(e){a(e.target.value)}}),Object(h.jsx)("label",{htmlFor:"category",children:"Category"}),Object(h.jsx)("input",{className:"field",type:"text",name:"category",defaultValue:o,onChange:function(e){d(e.target.value)}}),Object(h.jsx)("input",{className:"Button",type:"submit",value:"Edit"})]})]})]})})}),v=n(85),S=n(11),w=function(e){return Object(h.jsx)("div",{children:Object(h.jsxs)("table",{style:{width:600,marginTop:40},children:[Object(h.jsx)("thead",{style:{textAlign:"left"},children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"Category"}),Object(h.jsx)("th",{children:"Spent"}),Object(h.jsx)("th",{children:"Action"})]})}),Object(h.jsx)("tbody",{children:e&&e.finances.map((function(t){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:t.category}),Object(h.jsxs)("td",{children:[t.spent,"$"]}),Object(h.jsx)("td",{children:Object(h.jsx)(i.b,{to:{pathname:"/user/budget",state:{obj:t}},children:"Edit link"})}),Object(h.jsx)("td",{children:Object(h.jsx)("input",{className:"Button",type:"button",value:"Delete",onClick:function(){!function(t){var n={headers:{"auth-token":localStorage.usertoken}},c=t._id;u.a.post("/user/finance/remove",{_id:c},n).then((function(){console.log("Success:"),e.refresh()})).catch((function(){console.log("Smth went wrong")}))}(t)}})})]},t._id)}))})]})})},N=function(e){var t=Object(c.useState)(new Date),n=Object(j.a)(t,2),s=n[0],a=n[1],r=Object(c.useState)(),i=Object(j.a)(r,2),l=i[0],o=i[1],d=Object(c.useState)(),b=Object(j.a)(d,2),O=b[0],m=b[1],x=Object(c.useState)([]),f=Object(j.a)(x,2),g=f[0],y=f[1],v=Object(c.useState)(!1),N=Object(j.a)(v,2),C=N[0],F=N[1];Object(c.useEffect)((function(){var e={headers:{"auth-token":localStorage.usertoken}},t="".concat(s.getFullYear(),"-").concat(("0"+(s.getMonth()+1)).slice(-2),"-").concat(s.getDate());u.a.post("/user/finance/get",{dateStr:t},e).then((function(e){y(Object(S.a)(e.data))})).catch((function(){alert("Smth went wrong")}))}),[C,s]);return Object(h.jsxs)("div",{children:[Object(h.jsx)("form",{onSubmit:function(e){e.preventDefault();var t={headers:{"auth-token":localStorage.usertoken}},n="".concat(s.getFullYear(),"-").concat(("0"+(s.getMonth()+1)).slice(-2),"-").concat(s.getDate());u.a.post("/user/finance/create",{spent:l,category:O,dateStr:n},t).then((function(e){F(!C)})).catch((function(){alert("Smth went wrong")}))},children:Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)("div",{className:"form-group",children:Object(h.jsx)(p.a,{selected:s,onChange:function(e){return a(e)},dateFormat:"yyyy-MM-dd",inline:!0})}),Object(h.jsxs)("div",{class:"form-group",children:[Object(h.jsx)("label",{htmlFor:"spent",children:"Spent amount $$$"}),Object(h.jsx)("input",{className:"field",type:"number",name:"spent",value:e.spent,onChange:function(e){o(e.target.value)}}),Object(h.jsx)("label",{htmlFor:"category",children:"Category"}),Object(h.jsx)("input",{className:"field",type:"text",name:"category",value:e.category,onChange:function(e){m(e.target.value)}}),Object(h.jsx)("input",{className:"Button",type:"submit",value:"Add"})]})]})}),0!==g.length&&Object(h.jsx)(w,{finances:g,refresh:function(){F(!C)}})]})},C=(n(174),function(){var e=Object(c.useState)(!0),t=Object(j.a)(e,2),n=t[0],s=t[1];return Object(h.jsxs)("div",{className:"Title",children:[Object(h.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",marginRight:100},children:[Object(h.jsx)("div",{children:Object(h.jsx)("h2",{style:{color:"#E3E3E3",fontWeight:600},children:"Budget tracker"})}),n&&Object(h.jsx)(i.b,{to:"/",style:{textDecoration:"none",fontSize:32,fontWeight:400,color:"#E3E3E3"},onClick:function(){localStorage.clear(),s(!1)},children:"Exit"})]}),n||Object(h.jsx)(l.a,{to:"/"})]})}),F={display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"},k=function(){var e=Object(c.useState)(),t=Object(j.a)(e,2),n=t[0],s=t[1],a=Object(l.f)();return Object(c.useEffect)((function(){if(localStorage.getItem("usertoken")){var e=Object(v.a)(localStorage.getItem("usertoken")).username;s(e)}}),[]),Object(h.jsxs)("div",{children:[Object(h.jsx)(C,{}),Object(h.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginRight:150},children:Object(h.jsx)("h1",{style:{fontWeight:400,fontSize:42,color:"#2A2222"},children:n})}),Object(h.jsxs)("div",{style:F,children:[a.state&&Object(h.jsx)(y,{entry:a.state}),!a.state&&Object(h.jsx)(N,{}),!localStorage.getItem("isAuth")&&Object(h.jsx)(l.a,{to:"/"})]})]})};n(175);var E=function(){return Object(h.jsxs)(i.a,{children:[Object(h.jsx)("div",{className:"App"}),Object(h.jsx)(l.b,{path:"/",exact:!0,component:m}),Object(h.jsx)(l.b,{path:"/reg",exact:!0,component:f}),Object(h.jsx)(l.b,{path:"/user/budget",exact:!0,component:k})]})},I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,181)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),s(e),a(e),r(e)}))};r.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(E,{})}),document.getElementById("root")),I()},38:function(e,t,n){},90:function(e,t,n){}},[[176,1,2]]]);
//# sourceMappingURL=main.197c349f.chunk.js.map